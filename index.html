<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>My Minecraft Server</title>
  <link rel="stylesheet" href="style.css">
  <style>
    html {
      scroll-behavior: smooth;
    }
    @media (max-width: 600px) {
      nav a {
        display: block;
        margin: 10px 0;
      }
    }
    .plugin-link {
      float: right;
      font-size: 0.9em;
    }
    .toggle-btn {
      position: absolute;
      top: 20px;
      right: 20px;
      padding: 6px 12px;
      background-color: #444;
      color: #fff;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }
    #plugin-search {
      width: 100%;
      margin-bottom: 15px;
      padding: 8px;
      border-radius: 6px;
      border: 1px solid #333;
      background-color: #1f1f1f;
      color: #f0f0f0;
    }
  </style>
</head>
<body>
  <button class="toggle-btn" onclick="toggleTheme()">Toggle Theme</button>

  <header>
    <h1>🔥 My Minecraft Server</h1>
    <nav>
      <a href="#about">About</a>
      <a href="#plugins">Plugins</a>
      <a href="#status">Status</a>
    </nav>
  </header>

  <main>
    <section id="about">
      <h2>🌍 Server Info</h2>
      <p><strong>Java IP:</strong> <span id="java-ip">mc1524209.fmcs.cloud</span> <button onclick="copyToClipboard('java-ip')">📋 Copy</button></p>
      <p><strong>Bedrock IP:</strong> <span id="bedrock-ip">mc1524209.fmcs.cloud</span> <button onclick="copyToClipboard('bedrock-ip')">📋 Copy</button></p>
      <p><strong>Version:</strong> Java 1.20.1 / Bedrock (via Geyser)</p>
      <p><strong>Public Page:</strong> <a href="https://freemcserver.net/server/1524209" target="_blank">View Server</a></p>
    </section>

    <section id="status">
      <h2>📊 Server Status</h2>
      <div id="server-status">Checking status...</div>
      <div id="player-count"></div>
      <div id="offline-start" style="display: none;">
        <h3>🛠 Server is Offline - Start It Below</h3>
        <a href="https://freemcserver.net/server/1524209" target="_blank"><button>Open FreeMcServer Page</button></a>
      </div>
    </section>

    <section id="plugins">
      <h2>🔌 Plugins</h2>
      <input type="text" id="plugin-search" placeholder="Search plugins...">
      <ul id="plugin-list">
        <li>SkinRestorer <a class="plugin-link" href="https://modrinth.com/plugin/skinrestorer" target="_blank">Details ↗</a></li>
        <li>ViaVersion <a class="plugin-link" href="https://modrinth.com/plugin/viaversion" target="_blank">Details ↗</a></li>
        <li>LuckPerms <a class="plugin-link" href="https://modrinth.com/plugin/luckperms" target="_blank">Details ↗</a></li>
        <li>Vault <a class="plugin-link" href="https://www.spigotmc.org/resources/vault.34315/" target="_blank">Details ↗</a></li>
        <li>CoreProtect <a class="plugin-link" href="https://modrinth.com/plugin/coreprotect" target="_blank">Details ↗</a></li>
        <li>OnlineTime <a class="plugin-link" href="https://www.spigotmc.org/resources/onlinetime.67087/" target="_blank">Details ↗</a></li>
        <li>PicoJobs <a class="plugin-link" href="https://www.spigotmc.org/resources/picojobs.79207/" target="_blank">Details ↗</a></li>
        <li>GSit <a class="plugin-link" href="https://modrinth.com/plugin/gsit" target="_blank">Details ↗</a></li>
        <li>EconomyShopGUI <a class="plugin-link" href="https://modrinth.com/plugin/economyshopgui" target="_blank">Details ↗</a></li>
        <li>BeastLib <a class="plugin-link" href="https://modrinth.com/plugin/beastlib" target="_blank">Details ↗</a></li>
        <li>Geyser-Spigot <a class="plugin-link" href="https://modrinth.com/plugin/geyser" target="_blank">Details ↗</a></li>
        <li>ViaBackwards <a class="plugin-link" href="https://modrinth.com/plugin/viabackwards" target="_blank">Details ↗</a></li>
        <li>EssentialsX <a class="plugin-link" href="https://modrinth.com/plugin/essentialsx" target="_blank">Details ↗</a></li>
      </ul>
    </section>
  </main>

  <footer>
    <p>&copy; 2025 My Minecraft Server. Hosted via <a href="https://freemcserver.net">FreeMcServer.net</a></p>
  </footer>

  <script>
    const serverIP = "mc1524209.fmcs.cloud";

    async function fetchServerStatus() {
      const res = await fetch(`https://api.mcsrvstat.us/2/${serverIP}`);
      const data = await res.json();
      const statusDiv = document.getElementById("server-status");
      const playersDiv = document.getElementById("player-count");
      const offlineStart = document.getElementById("offline-start");

      if (!data.online) {
        statusDiv.innerHTML = "🟥 Server is Offline";
        playersDiv.innerHTML = "";
        offlineStart.style.display = "block";
      } else {
        statusDiv.innerHTML = "🟩 Server is Online";
        playersDiv.innerHTML = `👥 ${data.players.online}/${data.players.max} Players`;
        offlineStart.style.display = "none";
      }
    }

    fetchServerStatus();
    setInterval(fetchServerStatus, 3000);

    function copyToClipboard(id) {
      const text = document.getElementById(id).innerText;
      navigator.clipboard.writeText(text).then(() => {
        alert("Copied: " + text);
      });
    }

    function toggleTheme() {
      const body = document.body;
      if (body.style.backgroundColor === "#ffffff") {
        body.style.backgroundColor = "#121212";
        body.style.color = "#f0f0f0";
      } else {
        body.style.backgroundColor = "#ffffff";
        body.style.color = "#000000";
      }
    }

    const searchInput = document.getElementById("plugin-search");
    const pluginList = document.getElementById("plugin-list").getElementsByTagName("li");

    searchInput.addEventListener("input", function () {
      const filter = this.value.toLowerCase();
      for (let li of pluginList) {
        const text = li.textContent.toLowerCase();
        li.style.display = text.includes(filter) ? "flex" : "none";
      }
    });
  </script>
</body>
</html>
