<!DOCTYPE html>
<html>
<head>
  <title>My Minecraft Server</title>
  <link rel="stylesheet" href="style.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
  <header>
    <img src="images/server-icon.png" alt="Server Icon" width="64" height="64">
    <h1>🔥 My Minecraft Server</h1>
    <nav>
      <a href="#about">About</a>
      <a href="node.html">Node Info</a>
      <a href="plugins.html">Plugins</a>
    </nav>
  </header>

  <main>
    <section id="about">
      <h2>🌍 Server Info</h2>
      <p><strong>Java IP:</strong> mc1524209.fmcs.cloud</p>
      <p><strong>Bedrock IP:</strong> mc1524209.fmcs.cloud (Port: 19132)</p>
      <p><strong>Version:</strong> Java 1.20.1 + Bedrock (via Geyser)</p>
      <div id="server-status">Checking server status...</div>
    </section>

    <section id="control">
      <h2>🛠️ Control Panel</h2>
      <div id="start-button-container"></div>
    </section>
  </main>

  <footer>
    <p>&copy; 2025 My Minecraft Server. Powered by FreeMcServer.net</p>
  </footer>

  <script>
    const serverIP = "mc1524209.fmcs.cloud";

    async function fetchServerStatus() {
      const res = await fetch(`https://api.mcsrvstat.us/2/${serverIP}`);
      const data = await res.json();
      const statusDiv = document.getElementById("server-status");
      const startContainer = document.getElementById("start-button-container");

      if (!data.online) {
        statusDiv.innerHTML = "🟥 Server is Offline";
        startContainer.innerHTML = `<a href="https://freemcserver.net/server/1524209" target="_blank" class="start-button">Start Server</a>`;
      } else {
        statusDiv.innerHTML = `🟩 Online - ${data.players.online}/${data.players.max} players online`;
        startContainer.innerHTML = ""; // Remove start button
      }
    }

    fetchServerStatus();
    setInterval(fetchServerStatus, 5000);
  </script>
</body>
</html>
